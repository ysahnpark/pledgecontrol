<?php
/**
 * Models from schema: ecofy version 0.1
 * Code generated by TransformTask
 *
 */

/**
 * Copy this file to app/database/seeds directory.
 * Add the line $this->call('UserTableSeeder');
 * into the DatabaseSeeder.php's run() method.
 * To run the migration script do: $php artisan db:seed
 */
class UsersTableSeeder extends Seeder {

	/**
	 * Run the migrations.
	 *
	 * @return void
	 */
	public function run()
	{
	    // @codgen: Uncomment this  if you want deletion first
	    //DB::table('users')->delete();
	    $now = new \DateTime;
        $now_str = $now->format('Y-m-d H:i:s');
	    $users = array(
            array(
			'sid' => 1,
			'uuid' => 'uuid',
			'domain_sid' => 1,
			'domain_id' => 'domain_id',
			'created_by' => 1,
			'created_dt' => new DateTime,
			'updated_by' => 1,
			'updated_dt' => new DateTime,
			'update_counter' => 'update_counter',
			'lang' => 'lang',
			'organization_sid' => 'organization_sid',
			'role_sid' => 1,
			'role_name' => 'role_name',
			'id' => 'id',
			'password' => 'password',
			'first_name' => 'first_name',
			'middle_name' => 'middle_name',
			'last_name' => 'last_name',
			'lc_name' => 'lc_name',
			'display_name' => 'display_name',
			'dob' => 'dob',
			'phone' => 'phone',
			'email' => 'email',
			'timezone' => 'timezone',
			'type' => 'type',
			'permalink' => 'permalink',
			'profile_image_url' => 'profile_image_url',
			'activation_code' => 'activation_code',
			'security_question' => 'security_question',
			'security_answer' => 'security_answer',
			'session_timestamp' => 'session_timestamp',
			'last_session_ip' => 'last_session_ip',
			'last_session_dt' => new DateTime,
			'login_fail_counter' => 1,
			'active' => 'active',
			'status' => 1,
			'default_lang_cd' => 'default_lang_cd',
			'expiry_dt' => new DateTime,
			'params_text' => 'params_text',
            )
        );
        // @codgen: Uncomment this if you want to use the DB::table API
        //DB::table('users')->insert($users);
        $userSvc = new \Service\UserService();
        foreach ($users as $user) {
            $userSvc->createUser($user);
        }

	}
}
